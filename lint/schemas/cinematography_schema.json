{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://aimusicvideo.local/schemas/cinematography.json",
  "title": "Cinematography Canon Schema",
  "description": "Defines camera language rules and constraints for consistent visual storytelling",
  "type": "object",
  "properties": {
    "version": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Version date in YYYY-MM-DD format"
    },
    "shotDuration": {
      "type": "object",
      "description": "Default shot duration rules",
      "required": ["default", "unit"],
      "properties": {
        "default": {
          "type": "number",
          "description": "Default shot duration in seconds",
          "examples": [8]
        },
        "unit": {
          "type": "string",
          "enum": ["seconds"],
          "description": "Time unit"
        },
        "notes": {
          "type": "string",
          "description": "Shot duration philosophy and rationale",
          "examples": ["One shot = 8 seconds editorial unit. Kling may generate longer, but only first ~8 seconds are usable."]
        }
      }
    },
    "cameraMovement": {
      "type": "object",
      "description": "Allowed camera movement styles",
      "required": ["philosophy", "allowed", "forbidden"],
      "properties": {
        "philosophy": {
          "type": "string",
          "description": "Overall camera movement approach",
          "examples": ["Smooth cinematic motion only - deliberate and motivated"]
        },
        "allowed": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["type", "description"],
            "properties": {
              "type": {
                "type": "string",
                "examples": ["push in", "pull back", "dolly tracking", "slow pan", "crane up", "orbit"]
              },
              "description": {
                "type": "string",
                "description": "When and how to use this movement"
              },
              "speed": {
                "type": "string",
                "enum": ["slow", "medium", "fast", "n/a"],
                "description": "Typical speed for this movement (n/a for static shots)"
              }
            }
          }
        },
        "forbidden": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Camera movements that must never be used",
          "examples": [["shaky cam", "handheld wobble", "crash zoom", "whip pan", "dutch angle (unless narratively justified)"]]
        }
      }
    },
    "lenses": {
      "type": "object",
      "description": "Available lens choices and their narrative use",
      "required": ["available"],
      "properties": {
        "available": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["focalLength", "use", "effect"],
            "properties": {
              "focalLength": {
                "type": "string",
                "examples": ["24mm wide", "35mm anamorphic", "50mm", "85mm portrait"]
              },
              "use": {
                "type": "string",
                "description": "When to use this lens",
                "examples": ["Establishing shots, environmental context", "Intimate character moments, shallow focus"]
              },
              "effect": {
                "type": "string",
                "description": "Visual effect this lens creates",
                "examples": ["Wide field of view, slight distortion, sense of space", "Compressed depth, cinematic bokeh, isolation"]
              }
            }
          }
        },
        "default": {
          "type": "string",
          "description": "Default lens if not specified",
          "examples": ["35mm anamorphic"]
        }
      }
    },
    "framing": {
      "type": "object",
      "description": "Composition and framing rules",
      "properties": {
        "compositions": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["type", "use"],
            "properties": {
              "type": {
                "type": "string",
                "examples": ["rule of thirds", "centered", "symmetrical", "leading lines", "depth layering"]
              },
              "use": {
                "type": "string",
                "description": "When to use this composition"
              }
            }
          }
        },
        "shotSizes": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["type", "description"],
            "properties": {
              "type": {
                "type": "string",
                "examples": ["extreme close-up", "close-up", "medium shot", "medium wide", "wide shot", "extreme wide"]
              },
              "description": {
                "type": "string",
                "description": "What this shot size captures"
              }
            }
          }
        }
      }
    },
    "depthOfField": {
      "type": "object",
      "description": "Focus and depth control",
      "properties": {
        "default": {
          "type": "string",
          "enum": ["shallow", "medium", "deep"],
          "examples": ["shallow"]
        },
        "philosophy": {
          "type": "string",
          "examples": ["Use shallow focus for character intimacy, deep focus for environmental context"]
        }
      }
    },
    "constraints": {
      "type": "array",
      "description": "Hard constraints that must be enforced by linter",
      "items": {
        "type": "object",
        "required": ["rule", "enforcement"],
        "properties": {
          "rule": {
            "type": "string",
            "examples": ["One action per shot", "No scene cuts within shot", "Camera movement must be continuous and describable"]
          },
          "enforcement": {
            "type": "string",
            "enum": ["CRITICAL", "WARNING"],
            "description": "Linter severity level"
          }
        }
      }
    },
    "notes": {
      "type": "string",
      "description": "Additional cinematography notes and philosophy"
    }
  },
  "required": ["version", "shotDuration", "cameraMovement", "lenses", "constraints"]
}
